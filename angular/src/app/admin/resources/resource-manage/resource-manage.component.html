<ddap-header [backLink]="['/resources']" label="Add Resource">
</ddap-header>

<ddap-main>
  <div class="mat-expansion-panel">
    <h3>Item</h3>
    <json-editor #itemEditor
                 [options]="itemEditorOptions"
                 [data]="itemDto"
                 (change)="updateItemDto($event)"
                 data-se="item-editor"></json-editor>

    <h3>Test</h3>
    <json-editor #applyEditor
                 [options]="applyEditorOptions"
                 [data]="applyDto"
                 (change)="updateApplyDto($event)"
                 data-se="apply-editor"></json-editor>

    <div *ngIf="errorDto">
    <h3>Error</h3>
    <mat-error>
      <span *ngIf="!errorDto.apply">{{ errorDto }}</span>
      <span *ngIf="errorDto.apply">Cannot save, please consider using following DTOs:</span>
    </mat-error>
    <json-editor *ngIf="errorDto.apply"
                 #errorEditor
                 [options]="errorEditorOptions"
                 [data]="errorDto"></json-editor>

    </div>
    <mat-action-row>
      <button mat-flat-button
              color="primary"
              (click)="save()"
              data-se="create-resource">Add Resource
      </button>
    </mat-action-row>
  </div>
</ddap-main>
