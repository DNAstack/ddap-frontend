<header>
  <ng-template #baseHeader>
    <button *ngIf="backLink"
            data-se="back-link"
            mat-icon-button>
      <mat-icon class="icon icon-arrow"
                [routerLink]="backLink"></mat-icon>
    </button>

    <mat-icon *ngIf="icon"
              class="icon"
              [ngClass]="'icon-' + icon"></mat-icon>
    <h2 class="stretch"
        data-se="page-title">{{ label || 'Unknown' }}</h2>

    <ng-content></ng-content>
  </ng-template>

  <ng-container *ngIf="searchInputVisible; else baseHeader">
    <button *ngIf="isSearchPage"
            mat-icon-button
            data-se="search-back-link"
            (click)="back()">
      <mat-icon class="icon icon-close"></mat-icon>
    </button>

    <button *ngIf="!isSearchPage"
            mat-icon-button
            (click)="closeSearch()">
      <mat-icon class="icon icon-close"></mat-icon>
    </button>

    <ng-content></ng-content>
  </ng-container>

  <button *ngIf="searchable && !searchInputVisible"
          (click)="displaySearchInput()"
          mat-icon-button
          data-se="search-reveal">
    <mat-icon class="icon icon-search"></mat-icon>
  </button>
</header>
